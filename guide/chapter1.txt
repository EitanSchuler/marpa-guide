Chapter 1 - Getting Started
===========================

!include "guide/menu.inc"


What is Marpa?
--------------

Marpa is a new kind of parser.


Getting the code
----------------

Marpa is a Perl library. We will use
[Marpa::R2](http://metacpan.org/dist/Marpa-R2) for the examples in this guide.

If you have Perl already installed you can install Marpa with `cpan` or `cpanm`.

    $ cpan Marpa::R2

or

    $ cpanm Marpa::R2

This will install Marpa::R2.

In the rest of this guide we'll assume you have installed Marpa::R2. The examples
that end '.pl' do run.

First example
-------------

Let's start with an example. What follows is the smallest code that could parse
a number.

!include "examples/number.pl"

In this example we parse a number using the `\d` character class. The character
classes used by Marpa are the same as those used by Perl.

You can run the code by calling it with `perl`.

    $ perl number.pl 9999
    Trying to parse:
    9999
    ok

In the next we move on by just using the special notation used by Marpa.

!include "examples/number.sbnf"

Marpa uses the `:start` rule to specify which rule should be matched first. The
declaration `::=` operator separates the left side from the right side.

The symbol on the left side of declaration operater is the name of the rule.
The symbols on the right side of the operator specify what it matches to.

The next example shows how easy it is to improve that grammar to parse multiple
numbers separated by whitespace.

!include "examples/numbers.sbnf"

As you can see it includes a new rule called `numbers`. This rule matches with
one or more numbers. We specify this with the `+` operator after a name. We
also specify the token that separates the numbers. In this case the `<ws>`
token. The `number` token stays the same and we add a new lexical rule for
whitespace.

This grammar will parse input strings like this following.

    123    9 45 83 1000 1001          39201

The input string with numbers could be much longer than this as long as each
number is separated by one or more whitespace characters. This includes spaces,
tabs and newlines.


